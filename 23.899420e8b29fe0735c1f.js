(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"0+Jz":function(t,n,e){"use strict";e.r(n),e.d(n,"GigitalPageModule",function(){return C});var i=e("ofXK"),o=e("3Pt+"),c=e("TEn/"),s=e("tyNb"),a=e("fXoL"),r=e("tk/3");let g=(()=>{class t{constructor(){this.artistsData=[],this.defaultLowestPrice=700,this.defaultHighestPrice=2e5,this.priceRange={lower:this.defaultLowestPrice,upper:this.defaultHighestPrice},this.artistsToDisplay=[],this.tags=[],this.selectedTags=[],this.artistsWithinPriceRange=[],this.sortMethod="",this.artists=[{id:1,name:"Darin",picture:"https://res.cloudinary.com/hthruuqgk/image/upload/c_crop,dpr_auto,f_auto,g_face,h_1000,q_auto,w_1000/v1614350411/sample/Darin_Zanyar_in_2020__cropped_vh1qnm.jpg",price:15e3,tags:[{id:0,group:0,name:"Artist"},{id:0,group:1,name:"Pop"},{id:1,group:1,name:"Ballad"}]},{id:4,name:"BOP",picture:"https://res.cloudinary.com/hthruuqgk/image/upload/dpr_auto,f_auto,q_auto/v1614350575/sample/A-996604-1409334991-7193.jpeg_uxldhz.jpg",price:1e4,tags:[{id:1,group:0,name:"DJ"},{id:5,group:1,name:"Electro"},{id:6,group:1,name:"Drum and Bass"}]},{id:10,name:"Post Malone",picture:"https://res.cloudinary.com/hthruuqgk/image/upload/c_crop,dpr_auto,f_auto,g_face,h_600,q_auto,w_600/v1614350263/sample/Post_Malone_Stavernfestivalen_2018__202032_wknv0r.jpg",price:1e3,tags:[{id:0,group:0,name:"Artist"},{id:3,group:1,name:"Hip-Hop"},{id:9,group:1,name:"Rap"}]},{id:5,name:"Zara Larsson",picture:"https://res.cloudinary.com/hthruuqgk/image/upload/c_crop,dpr_auto,f_auto,g_face,h_1000,q_auto,w_1000/v1614350607/sample/Zara_Larsson___The_Observatory_OC_05_02_2019__48498748537_hyjoqz.jpg",price:2e5,tags:[{id:0,group:0,name:"Artist"},{id:4,group:1,name:"RnB"},{id:0,group:1,name:"Pop"}]}]}filterByPrice(){this.artistsWithinPriceRange=this.artistsData.filter(t=>t.price>=this.priceRange.lower&&t.price<=this.priceRange.upper),console.log(this.artistsWithinPriceRange,this.priceRange),this.getArtistsToDisplay()}sortByPriceAscending(){this.artistsToDisplay.sort((t,n)=>t.price-n.price)}sortByPriceDescending(){this.artistsToDisplay.sort((t,n)=>n.price-t.price)}filterByTag(t){if(this.selectedTags.includes(t)){const n=this.selectedTags.indexOf(t);this.selectedTags.splice(n,1)}else this.selectedTags.push(t);console.log(this.selectedTags),this.getArtistsToDisplay()}getArtistsToDisplay(){let t=[];if(this.selectedTags.length<=0&&this.priceRange.lower===this.defaultLowestPrice&&this.priceRange.upper===this.defaultHighestPrice)console.log("case 1"),this.artistsToDisplay=this.artistsData;else if(this.selectedTags.length<=0&&(this.priceRange.lower!==this.defaultLowestPrice||this.priceRange.upper!==this.defaultHighestPrice))console.log("case 2"),this.artistsToDisplay=this.artistsData.filter(t=>this.artistsWithinPriceRange.includes(t));else if(this.selectedTags.length>0&&this.priceRange.lower===this.defaultLowestPrice&&this.priceRange.upper===this.defaultHighestPrice){console.log("case 3");for(const n of this.selectedTags){const e=this.artistsData.filter(t=>t.tags.find(t=>Object.values(t).includes(n)));t.includes(e)||t.push(e),t=t.flat(1)}this.artistsToDisplay=this.artistsData.filter(n=>t.includes(n))}else{console.log("case 4");for(const n of this.selectedTags){const e=this.artistsData.filter(t=>t.tags.find(t=>Object.values(t).includes(n)));t.includes(e)||t.push(e),t=t.flat(1)}this.artistsToDisplay=this.artistsData.filter(n=>t.includes(n)&&this.artistsWithinPriceRange.includes(n))}if(this.sortMethod)switch(this.sortMethod){case"priceDescending":this.sortByPriceDescending();break;case"priceAscending":this.sortByPriceAscending()}}getTags(){this.tags=[];for(const t of this.artistsData)for(const n of t.tags)this.tags.includes(n.name)||this.tags.push(n.name)}sortByPrice(t){switch(t.detail.value){case"priceDescending":this.sortByPriceDescending();break;case"priceAscending":this.sortByPriceAscending()}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=a.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const l=function(t){return{selected:t}};function h(t,n){if(1&t){const t=a.Ob();a.Nb(0,"ion-chip",17),a.Vb("click",function(){a.gc(t);const e=n.$implicit;return a.Zb().artistsService.filterByTag(e)}),a.lc(1),a.Mb()}if(2&t){const t=n.$implicit,e=a.Zb();a.cc("ngClass",a.dc(2,l,e.artistsService.selectedTags.includes(t))),a.xb(1),a.mc(t)}}function p(t,n){if(1&t&&(a.Nb(0,"span"),a.lc(1),a.Mb()),2&t){const t=a.Zb().$implicit;a.xb(1),a.nc(" ",t.name," ")}}function M(t,n){if(1&t&&(a.Lb(0),a.jc(1,p,2,1,"span",23),a.Kb()),2&t){const t=n.$implicit;a.xb(1),a.cc("ngIf",0==t.group)}}function _(t,n){if(1&t&&(a.Nb(0,"ion-chip",25),a.lc(1),a.Mb()),2&t){const t=a.Zb().$implicit;a.xb(1),a.nc(" ",t.name," ")}}function d(t,n){if(1&t&&(a.Lb(0),a.jc(1,_,2,1,"ion-chip",24),a.Kb()),2&t){const t=n.$implicit;a.xb(1),a.cc("ngIf",1==t.group)}}function P(t,n){if(1&t&&(a.Nb(0,"ion-card",0),a.Nb(1,"ion-card-content"),a.Nb(2,"ion-row",18),a.Ib(3,"img",19),a.Mb(),a.Nb(4,"ion-row",20),a.Nb(5,"h1"),a.jc(6,M,2,1,"ng-container",21),a.lc(7),a.Mb(),a.Nb(8,"h2"),a.lc(9),a.Mb(),a.Nb(10,"ion-row",22),a.jc(11,d,2,1,"ng-container",21),a.Mb(),a.Mb(),a.Mb(),a.Mb()),2&t){const t=n.$implicit;a.xb(3),a.cc("src",t.picture,a.hc)("alt",t.name),a.xb(3),a.cc("ngForOf",t.tags),a.xb(1),a.nc(" ",t.name," "),a.xb(2),a.nc("",t.price," SEK"),a.xb(2),a.cc("ngForOf",t.tags)}}const u=[{path:"",component:(()=>{class t{constructor(t,n){this.http=t,this.artistsService=n}ngOnInit(){this.init()}init(){this.http.get("https://gigital-code-sample-api.herokuapp.com/artists/list").subscribe(t=>{console.log(t),this.artistsService.artistsData=t,this.artistsService.artistsWithinPriceRange=this.artistsService.artistsData,this.artistsService.getTags(),this.artistsService.getArtistsToDisplay()})}changeDataSource(){this.artistsService.artistsData=this.artistsService.artists,this.artistsService.artistsWithinPriceRange=this.artistsService.artistsData,this.artistsService.getTags(),this.artistsService.getArtistsToDisplay()}}return t.\u0275fac=function(n){return new(n||t)(a.Hb(r.a),a.Hb(g))},t.\u0275cmp=a.Bb({type:t,selectors:[["app-gigital"]],decls:34,vars:6,consts:[["color","gigit"],["slot","end"],["fill","solid","color","bluishGray",3,"click"],[1,"left-pane","ion-padding"],[1,"filter"],["color","bluishGray","dualKnobs","","min","700","max","200900","step","1000","snaps","",3,"ngModel","ngModelChange"],["slot","start"],["color","bluishGray",3,"click"],[1,"tags-breadcrumbs"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"right-pane","ion-padding"],[1,"sorting-area"],["placeholder","Sort by price","interface","popover",3,"ngModel","ngModelChange","ionChange"],["value","priceDescending"],["value","priceAscending"],[1,"presentation-area"],["color","gigit",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"illustration"],[3,"src","alt"],[1,"information","ion-padding"],[4,"ngFor","ngForOf"],[1,"tags"],[4,"ngIf"],["color","bluishGray",4,"ngIf"],["color","bluishGray"]],template:function(t,n){1&t&&(a.Nb(0,"ion-header"),a.Nb(1,"ion-toolbar",0),a.Nb(2,"ion-title"),a.lc(3,"gigital"),a.Mb(),a.Nb(4,"ion-buttons",1),a.Nb(5,"ion-button",2),a.Vb("click",function(){return n.changeDataSource()}),a.lc(6,"Load hardcoded version"),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Nb(7,"ion-content",0),a.Nb(8,"main"),a.Nb(9,"section",3),a.Nb(10,"ion-row",4),a.Nb(11,"h3"),a.lc(12,"Price range"),a.Mb(),a.Nb(13,"ion-range",5),a.Vb("ngModelChange",function(t){return n.artistsService.priceRange=t}),a.Nb(14,"ion-label",6),a.lc(15),a.Mb(),a.Nb(16,"ion-label",1),a.lc(17),a.Mb(),a.Mb(),a.Nb(18,"ion-button",7),a.Vb("click",function(){return n.artistsService.filterByPrice()}),a.lc(19,"apply price filter"),a.Mb(),a.Mb(),a.Nb(20,"ion-row",4),a.Nb(21,"h3"),a.lc(22,"Tag filter"),a.Mb(),a.Nb(23,"ion-row",8),a.jc(24,h,2,4,"ion-chip",9),a.Mb(),a.Mb(),a.Mb(),a.Nb(25,"section",10),a.Nb(26,"ion-row",11),a.Nb(27,"ion-select",12),a.Vb("ngModelChange",function(t){return n.artistsService.sortMethod=t})("ionChange",function(t){return n.artistsService.sortByPrice(t)}),a.Nb(28,"ion-select-option",13),a.lc(29,"Price high to low"),a.Mb(),a.Nb(30,"ion-select-option",14),a.lc(31,"Price low to high"),a.Mb(),a.Mb(),a.Mb(),a.Nb(32,"ion-row",15),a.jc(33,P,12,6,"ion-card",16),a.Mb(),a.Mb(),a.Mb(),a.Mb()),2&t&&(a.xb(13),a.cc("ngModel",n.artistsService.priceRange),a.xb(2),a.nc("",n.artistsService.priceRange.lower," SEK"),a.xb(2),a.nc("",n.artistsService.priceRange.upper," SEK"),a.xb(7),a.cc("ngForOf",n.artistsService.tags),a.xb(3),a.cc("ngModel",n.artistsService.sortMethod),a.xb(6),a.cc("ngForOf",n.artistsService.artistsToDisplay))},directives:[c.q,c.L,c.K,c.e,c.d,c.l,c.D,c.B,c.R,o.d,o.e,c.v,i.i,c.G,c.H,c.j,i.h,c.f,c.g,i.j],styles:["[_nghost-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{text-transform:uppercase}[_nghost-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-right:2vw}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .left-pane[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:20%;min-width:350px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .left-pane[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{flex-direction:column;margin-top:30px;position:sticky}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .left-pane[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]:first-child{top:10px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .left-pane[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]:nth-child(2){top:200px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .left-pane[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{--background:var(--ion-color-bluishGray-shade);--color:var(--ion-color-bluishGray-contrast)}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .left-pane[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   ion-chip.selected[_ngcontent-%COMP%]{--background:#72b0d3}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .right-pane[_ngcontent-%COMP%]{width:77%}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .right-pane[_ngcontent-%COMP%]   .presentation-area[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .right-pane[_ngcontent-%COMP%]   .presentation-area[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{width:47%}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .right-pane[_ngcontent-%COMP%]   .presentation-area[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .right-pane[_ngcontent-%COMP%]   .presentation-area[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]{min-width:100px;flex-shrink:0}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .right-pane[_ngcontent-%COMP%]   .presentation-area[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;max-width:19vw;min-width:100px;height:auto}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .right-pane[_ngcontent-%COMP%]   .presentation-area[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .information[_ngcontent-%COMP%]{flex-direction:column;justify-content:space-evenly}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .right-pane[_ngcontent-%COMP%]   .presentation-area[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .information[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--ion-color-bluishGray)}@media (max-width:1190px){[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .right-pane[_ngcontent-%COMP%]   .presentation-area[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{width:100%}}@media (max-width:800px){[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{flex-direction:column}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .left-pane[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .left-pane[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{position:static}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .right-pane[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .right-pane[_ngcontent-%COMP%]   .presentation-area[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .right-pane[_ngcontent-%COMP%]   .presentation-area[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain}}"]}),t})()}];let O=(()=>{class t{}return t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({factory:function(n){return new(n||t)},imports:[[s.j.forChild(u)],s.j]}),t})(),C=(()=>{class t{}return t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({factory:function(n){return new(n||t)},providers:[g],imports:[[i.b,o.a,c.M,O,r.b]]}),t})()}}]);